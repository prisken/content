{% extends "base.html" %}

{% block title %}Content Generator - Content Creator Pro{% endblock %}

{% block extra_css %}
<style>
    .direction-card {
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid transparent;
    }
    
    .direction-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    .direction-card.selected {
        border-color: #0d6efd;
        background-color: #f8f9ff;
    }
    
    .step-indicator {
        background: linear-gradient(90deg, #e9ecef 0%, #e9ecef 100%);
        height: 4px;
        border-radius: 2px;
        margin: 20px 0;
    }
    
    .step-indicator .progress {
        background: linear-gradient(90deg, #0d6efd 0%, #0d6efd 100%);
        height: 100%;
        border-radius: 2px;
        transition: width 0.3s ease;
    }
    
    .content-preview {
        background: #f8f9fa;
        border: 1px solid #dee2e6;
        border-radius: 8px;
        padding: 20px;
        min-height: 200px;
    }
    
    .quick-start-card {
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .quick-start-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    .news-source-card {
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid transparent;
    }
    
    .news-source-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    .news-source-card.selected {
        border-color: #0d6efd;
        background-color: #f8f9ff;
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <!-- Page Header -->
    <div class="row mb-4">
        <div class="col-12">
            <h1 class="h2 mb-2">
                <i class="fas fa-magic me-2 text-primary"></i>Content Generator
            </h1>
            <p class="text-muted">Create engaging content in minutes with AI-powered generation</p>
        </div>
    </div>

    <!-- Quick Start Options -->
    <div class="row mb-4">
        <div class="col-12">
            <h5 class="mb-3">Quick Start</h5>
            <div class="row">
                <div class="col-md-3 mb-3">
                    <div class="card quick-start-card h-100" data-quick-start="business-linkedin">
                        <div class="card-body text-center">
                            <i class="fas fa-briefcase fa-2x text-primary mb-2"></i>
                            <h6 class="card-title">Business News â†’ LinkedIn</h6>
                            <small class="text-muted">Professional insights</small>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="card quick-start-card h-100" data-quick-start="tech-twitter">
                        <div class="card-body text-center">
                            <i class="fas fa-microchip fa-2x text-primary mb-2"></i>
                            <h6 class="card-title">Tech Trends â†’ Twitter</h6>
                            <small class="text-muted">Quick updates</small>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="card quick-start-card h-100" data-quick-start="health-instagram">
                        <div class="card-body text-center">
                            <i class="fas fa-heart fa-2x text-primary mb-2"></i>
                            <h6 class="card-title">Health Tips â†’ Instagram</h6>
                            <small class="text-muted">Visual inspiration</small>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="card quick-start-card h-100" data-quick-start="education-blog">
                        <div class="card-body text-center">
                            <i class="fas fa-graduation-cap fa-2x text-primary mb-2"></i>
                            <h6 class="card-title">Industry Insights â†’ Blog</h6>
                            <small class="text-muted">In-depth content</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Content Generation Form -->
    <div class="row">
        <div class="col-lg-8">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Create Your Content</h5>
                </div>
                <div class="card-body">
                    <!-- Step Indicator -->
                    <div class="step-indicator">
                        <div class="progress" id="stepProgress" style="width: 25%"></div>
                    </div>

                    <!-- Step 1: Content Direction -->
                    <div id="step1" class="step-content">
                        <h6 class="mb-3">Step 1: Choose Your Focus</h6>
                        <div class="row" id="directionGrid">
                            <!-- Directions will be loaded dynamically -->
                        </div>
                        <div class="mt-3">
                            <button class="btn btn-primary" onclick="nextStep()" disabled id="step1Next">
                                Next <i class="fas fa-arrow-right ms-1"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Step 2: Content Type -->
                    <div id="step2" class="step-content" style="display: none;">
                        <h6 class="mb-3">Step 2: What Type of Content?</h6>
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <div class="card direction-card h-100" data-content-type="linkedin">
                                    <div class="card-body text-center">
                                        <i class="fab fa-linkedin fa-2x text-primary mb-2"></i>
                                        <h6 class="card-title">LinkedIn Post</h6>
                                        <small class="text-muted">Professional networking</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card direction-card h-100" data-content-type="facebook">
                                    <div class="card-body text-center">
                                        <i class="fab fa-facebook fa-2x text-primary mb-2"></i>
                                        <h6 class="card-title">Facebook Post</h6>
                                        <small class="text-muted">Community engagement</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card direction-card h-100" data-content-type="instagram">
                                    <div class="card-body text-center">
                                        <i class="fab fa-instagram fa-2x text-primary mb-2"></i>
                                        <h6 class="card-title">Instagram Post</h6>
                                        <small class="text-muted">Visual storytelling</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card direction-card h-100" data-content-type="twitter">
                                    <div class="card-body text-center">
                                        <i class="fab fa-twitter fa-2x text-primary mb-2"></i>
                                        <h6 class="card-title">Twitter Post</h6>
                                        <small class="text-muted">Quick updates</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card direction-card h-100" data-content-type="youtube_shorts">
                                    <div class="card-body text-center">
                                        <i class="fab fa-youtube fa-2x text-primary mb-2"></i>
                                        <h6 class="card-title">YouTube Shorts</h6>
                                        <small class="text-muted">Video content</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card direction-card h-100" data-content-type="blog">
                                    <div class="card-body text-center">
                                        <i class="fas fa-blog fa-2x text-primary mb-2"></i>
                                        <h6 class="card-title">Blog Article</h6>
                                        <small class="text-muted">In-depth content</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-3">
                            <button class="btn btn-secondary me-2" onclick="prevStep()">
                                <i class="fas fa-arrow-left me-1"></i> Back
                            </button>
                            <button class="btn btn-primary" onclick="nextStep()" disabled id="step2Next">
                                Next <i class="fas fa-arrow-right ms-1"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Step 3: Information Source -->
                    <div id="step3" class="step-content" style="display: none;">
                        <h6 class="mb-3">Step 3: What Inspires You?</h6>
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <div class="card direction-card h-100" data-source-type="news">
                                    <div class="card-body text-center">
                                        <i class="fas fa-newspaper fa-2x text-primary mb-2"></i>
                                        <h6 class="card-title">Latest News</h6>
                                        <small class="text-muted">Current events</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card direction-card h-100" data-source-type="books">
                                    <div class="card-body text-center">
                                        <i class="fas fa-book fa-2x text-primary mb-2"></i>
                                        <h6 class="card-title">Popular Books</h6>
                                        <small class="text-muted">Expert insights</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card direction-card h-100" data-source-type="threads">
                                    <div class="card-body text-center">
                                        <i class="fas fa-comments fa-2x text-primary mb-2"></i>
                                        <h6 class="card-title">Trending Threads</h6>
                                        <small class="text-muted">Viral discussions</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card direction-card h-100" data-source-type="podcasts">
                                    <div class="card-body text-center">
                                        <i class="fas fa-podcast fa-2x text-primary mb-2"></i>
                                        <h6 class="card-title">Podcasts</h6>
                                        <small class="text-muted">Audio insights</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card direction-card h-100" data-source-type="videos">
                                    <div class="card-body text-center">
                                        <i class="fas fa-video fa-2x text-primary mb-2"></i>
                                        <h6 class="card-title">YouTube Videos</h6>
                                        <small class="text-muted">Visual content</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card direction-card h-100" data-source-type="research">
                                    <div class="card-body text-center">
                                        <i class="fas fa-microscope fa-2x text-primary mb-2"></i>
                                        <h6 class="card-title">Research Papers</h6>
                                        <small class="text-muted">Academic insights</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-3">
                            <button class="btn btn-secondary me-2" onclick="prevStep()">
                                <i class="fas fa-arrow-left me-1"></i> Back
                            </button>
                            <button class="btn btn-primary" onclick="nextStep()" disabled id="step3Next">
                                Next <i class="fas fa-arrow-right ms-1"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Step 3.5: News Source Selection (only for news) -->
                    <div id="step3_5" class="step-content" style="display: none;">
                        <h6 class="mb-3">Step 3.5: Choose Your News Source</h6>
                        <div class="mb-3">
                            <label class="form-label">Select your preferred region:</label>
                            <select class="form-select" id="newsRegion" onchange="updateNewsSources()">
                                <option value="">Choose a region...</option>
                                <option value="north_america">North America</option>
                                <option value="europe">Europe</option>
                                <option value="asia_pacific">Asia Pacific</option>
                                <option value="latin_america">Latin America</option>
                                <option value="middle_east">Middle East</option>
                                <option value="africa">Africa</option>
                            </select>
                        </div>
                        
                        <div id="newsSourcesContainer" style="display: none;">
                            <label class="form-label">Select news source:</label>
                            <div class="row" id="newsSourcesGrid">
                                <!-- News sources will be loaded dynamically based on region -->
                            </div>
                        </div>
                        
                        <div class="mt-3">
                            <button class="btn btn-secondary me-2" onclick="prevStep()">
                                <i class="fas fa-arrow-left me-1"></i> Back
                            </button>
                            <button class="btn btn-primary" onclick="nextStep()" disabled id="step3_5Next">
                                Next <i class="fas fa-arrow-right ms-1"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Step 4: Tone Selection -->
                    <div id="step4" class="step-content" style="display: none;">
                        <h6 class="mb-3">Step 4: How Should It Sound?</h6>
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <div class="card direction-card h-100" data-tone="professional">
                                    <div class="card-body text-center">
                                        <i class="fas fa-user-tie fa-2x text-primary mb-2"></i>
                                        <h6 class="card-title">Professional</h6>
                                        <small class="text-muted">Business formal</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card direction-card h-100" data-tone="casual">
                                    <div class="card-body text-center">
                                        <i class="fas fa-smile fa-2x text-primary mb-2"></i>
                                        <h6 class="card-title">Casual</h6>
                                        <small class="text-muted">Friendly informal</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card direction-card h-100" data-tone="inspirational">
                                    <div class="card-body text-center">
                                        <i class="fas fa-star fa-2x text-primary mb-2"></i>
                                        <h6 class="card-title">Inspirational</h6>
                                        <small class="text-muted">Motivational</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card direction-card h-100" data-tone="educational">
                                    <div class="card-body text-center">
                                        <i class="fas fa-chalkboard-teacher fa-2x text-primary mb-2"></i>
                                        <h6 class="card-title">Educational</h6>
                                        <small class="text-muted">Informative</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card direction-card h-100" data-tone="humorous">
                                    <div class="card-body text-center">
                                        <i class="fas fa-laugh fa-2x text-primary mb-2"></i>
                                        <h6 class="card-title">Humorous</h6>
                                        <small class="text-muted">Fun and light</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card direction-card h-100" data-tone="serious">
                                    <div class="card-body text-center">
                                        <i class="fas fa-exclamation-triangle fa-2x text-primary mb-2"></i>
                                        <h6 class="card-title">Serious</h6>
                                        <small class="text-muted">Important matters</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-3">
                            <button class="btn btn-secondary me-2" onclick="prevStep()">
                                <i class="fas fa-arrow-left me-1"></i> Back
                            </button>
                            <button class="btn btn-success" onclick="generateContent()" disabled id="generateBtn">
                                <i class="fas fa-magic me-1"></i> Generate Content
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Preview Panel -->
        <div class="col-lg-4">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Content Preview</h5>
                </div>
                <div class="card-body">
                    <div class="content-preview" id="contentPreview">
                        <div class="text-center text-muted">
                            <i class="fas fa-eye fa-3x mb-3"></i>
                            <p>Your generated content will appear here</p>
                        </div>
                    </div>
                    
                    <!-- Translation Controls -->
                    <div id="translationControls" style="display: none;">
                        <hr>
                        <div class="translation-controls">
                            <h6 class="mb-2">Translate Content</h6>
                            <div class="mb-2">
                                <span class="content-language en">English</span>
                                <span class="content-language zh" style="display: none;">ä¸­æ–‡</span>
                            </div>
                            <div class="d-grid gap-2">
                                <button class="btn btn-outline-primary" onclick="translateContent('en')" id="translateEn">
                                    <i class="fas fa-language me-1"></i> Show English
                                </button>
                                <button class="btn btn-outline-warning" onclick="translateContent('zh')" id="translateZh">
                                    <i class="fas fa-language me-1"></i> æ˜¾ç¤ºä¸­æ–‡
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div id="contentActions" style="display: none;">
                        <hr>
                        <div class="d-grid gap-2">
                            <button class="btn btn-outline-primary" onclick="saveContent()">
                                <i class="fas fa-save me-1"></i> Save to Library
                            </button>
                            <button class="btn btn-outline-success" onclick="downloadContent()">
                                <i class="fas fa-download me-1"></i> Download
                            </button>
                            <button class="btn btn-outline-info" onclick="copyContent()">
                                <i class="fas fa-copy me-1"></i> Copy Text
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
let currentStep = 1;
let selectedDirection = null;
let selectedContentType = null;
let selectedSourceType = null;
let selectedNewsSource = null;
let selectedTone = null;
let generatedContent = null;
let currentContentLanguage = 'en';

// Initialize the page
$(document).ready(function() {
    loadDirections();
    setupEventListeners();
});

function loadDirections() {
    fetch('/api/directions')
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                renderDirections(data.directions);
            }
        })
        .catch(error => {
            console.error('Error loading directions:', error);
            // Fallback to hardcoded directions
            renderDirections(getDefaultDirections());
        });
}

function renderDirections(directions) {
    const grid = $('#directionGrid');
    grid.empty();
    
    directions.forEach(direction => {
        const card = `
            <div class="col-md-4 mb-3">
                <div class="card direction-card h-100" data-direction="${direction.key}">
                    <div class="card-body text-center">
                        <i class="fas ${getDirectionIcon(direction.key)} fa-2x text-primary mb-2"></i>
                        <h6 class="card-title">${direction.name}</h6>
                        <small class="text-muted">${direction.subcategories.join(', ')}</small>
                    </div>
                </div>
            </div>
        `;
        grid.append(card);
    });
}

function getDirectionIcon(directionKey) {
    const icons = {
        'business_finance': 'fa-briefcase',
        'technology': 'fa-microchip',
        'health_wellness': 'fa-heart',
        'education': 'fa-graduation-cap',
        'entertainment': 'fa-film',
        'travel_tourism': 'fa-plane',
        'food_cooking': 'fa-utensils',
        'fashion_beauty': 'fa-tshirt',
        'sports_fitness': 'fa-dumbbell',
        'science_research': 'fa-microscope',
        'politics_current_events': 'fa-newspaper',
        'environment_sustainability': 'fa-leaf',
        'personal_development': 'fa-user-graduate',
        'parenting_family': 'fa-users',
        'art_creativity': 'fa-palette',
        'real_estate': 'fa-home',
        'automotive': 'fa-car',
        'pet_care': 'fa-paw'
    };
    return icons[directionKey] || 'fa-tag';
}

function getDefaultDirections() {
    return [
        { key: 'business_finance', name: 'Business & Finance', subcategories: ['entrepreneurship', 'investing'] },
        { key: 'technology', name: 'Technology', subcategories: ['tech_news', 'software'] },
        { key: 'health_wellness', name: 'Health & Wellness', subcategories: ['fitness', 'nutrition'] },
        { key: 'education', name: 'Education', subcategories: ['learning', 'skills'] },
        { key: 'entertainment', name: 'Entertainment', subcategories: ['movies', 'music'] },
        { key: 'travel_tourism', name: 'Travel & Tourism', subcategories: ['destinations', 'tips'] }
    ];
}

function setupEventListeners() {
    // Direction selection
    $(document).on('click', '[data-direction]', function() {
        $('.direction-card').removeClass('selected');
        $(this).addClass('selected');
        selectedDirection = $(this).data('direction');
        $('#step1Next').prop('disabled', false);
    });

    // Content type selection
    $(document).on('click', '[data-content-type]', function() {
        $('.direction-card').removeClass('selected');
        $(this).addClass('selected');
        selectedContentType = $(this).data('content-type');
        $('#step2Next').prop('disabled', false);
    });

    // Source type selection
    $(document).on('click', '[data-source-type]', function() {
        $('.direction-card').removeClass('selected');
        $(this).addClass('selected');
        selectedSourceType = $(this).data('source-type');
        $('#step3Next').prop('disabled', false);
    });

    // Tone selection
    $(document).on('click', '[data-tone]', function() {
        $('.direction-card').removeClass('selected');
        $(this).addClass('selected');
        selectedTone = $(this).data('tone');
        $('#generateBtn').prop('disabled', false);
    });

    // Quick start cards
    $(document).on('click', '.quick-start-card', function() {
        const quickStart = $(this).data('quick-start');
        const [direction, contentType] = quickStart.split('-');
        
        selectedDirection = direction;
        selectedContentType = contentType;
        selectedSourceType = 'news';
        selectedTone = 'professional';
        
        // Jump to step 4
        currentStep = 4;
        showStep(4);
        updateProgress();
        $('#generateBtn').prop('disabled', false);
    });

    // News source selection
    $(document).on('click', '[data-news-source]', function() {
        $('.news-source-card').removeClass('selected');
        $(this).addClass('selected');
        selectedNewsSource = $(this).data('news-source');
        $('#step3_5Next').prop('disabled', false);
    });
}

// News sources data based on content categories document
const newsSources = {
    north_america: {
        general: [
            { name: 'CNN', url: 'cnn.com', category: 'General News' },
            { name: 'Fox News', url: 'foxnews.com', category: 'General News' },
            { name: 'NBC News', url: 'nbcnews.com', category: 'General News' },
            { name: 'ABC News', url: 'abcnews.go.com', category: 'General News' }
        ],
        business: [
            { name: 'Bloomberg', url: 'bloomberg.com', category: 'Business News' },
            { name: 'CNBC', url: 'cnbc.com', category: 'Business News' },
            { name: 'Wall Street Journal', url: 'wsj.com', category: 'Business News' },
            { name: 'Forbes', url: 'forbes.com', category: 'Business News' }
        ],
        tech: [
            { name: 'TechCrunch', url: 'techcrunch.com', category: 'Tech News' },
            { name: 'The Verge', url: 'theverge.com', category: 'Tech News' },
            { name: 'Wired', url: 'wired.com', category: 'Tech News' },
            { name: 'Ars Technica', url: 'arstechnica.com', category: 'Tech News' }
        ]
    },
    europe: {
        general: [
            { name: 'BBC', url: 'bbc.com', category: 'General News' },
            { name: 'Reuters', url: 'reuters.com', category: 'General News' },
            { name: 'The Guardian', url: 'theguardian.com', category: 'General News' },
            { name: 'Le Monde', url: 'lemonde.fr', category: 'General News' }
        ],
        business: [
            { name: 'Financial Times', url: 'ft.com', category: 'Business News' },
            { name: 'The Economist', url: 'economist.com', category: 'Business News' },
            { name: 'Handelsblatt', url: 'handelsblatt.com', category: 'Business News' }
        ],
        tech: [
            { name: 'Tech.eu', url: 'tech.eu', category: 'Tech News' },
            { name: 'The Next Web', url: 'thenextweb.com', category: 'Tech News' },
            { name: 'EU-Startups', url: 'eu-startups.com', category: 'Tech News' }
        ]
    },
    asia_pacific: {
        general: [
            { name: 'Nikkei', url: 'asia.nikkei.com', category: 'General News' },
            { name: 'South China Morning Post', url: 'scmp.com', category: 'General News' },
            { name: 'Straits Times', url: 'straitstimes.com', category: 'General News' }
        ],
        business: [
            { name: 'Bloomberg Asia', url: 'bloomberg.com/asia', category: 'Business News' },
            { name: 'CNBC Asia', url: 'cnbc.com/asia', category: 'Business News' },
            { name: 'Nikkei Business', url: 'business.nikkei.com', category: 'Business News' }
        ],
        tech: [
            { name: 'Tech in Asia', url: 'techinasia.com', category: 'Tech News' },
            { name: 'KrASIA', url: 'kr-asia.com', category: 'Tech News' },
            { name: '36Kr', url: '36kr.com', category: 'Tech News' }
        ]
    },
    latin_america: {
        general: [
            { name: 'El PaÃ­s', url: 'elpais.com', category: 'General News' },
            { name: 'Folha de S.Paulo', url: 'folha.uol.com.br', category: 'General News' },
            { name: 'ClarÃ­n', url: 'clarin.com', category: 'General News' }
        ],
        business: [
            { name: 'AmÃ©rica EconomÃ­a', url: 'americaeconomia.com', category: 'Business News' },
            { name: 'Valor EconÃ´mico', url: 'valor.com.br', category: 'Business News' }
        ],
        tech: [
            { name: 'TechCrunch Latin America', url: 'techcrunch.com/latam', category: 'Tech News' },
            { name: 'Contxto', url: 'contxto.com', category: 'Tech News' },
            { name: 'PulsoSocial', url: 'pulsosocial.com', category: 'Tech News' }
        ]
    },
    middle_east: {
        general: [
            { name: 'Al Jazeera', url: 'aljazeera.com', category: 'General News' },
            { name: 'Gulf News', url: 'gulfnews.com', category: 'General News' },
            { name: 'The National', url: 'thenational.ae', category: 'General News' }
        ],
        business: [
            { name: 'Arabian Business', url: 'arabianbusiness.com', category: 'Business News' },
            { name: 'MEED', url: 'meed.com', category: 'Business News' },
            { name: 'Gulf Business', url: 'gulfbusiness.com', category: 'Business News' }
        ],
        tech: [
            { name: 'Wamda', url: 'wamda.com', category: 'Tech News' },
            { name: 'MENAbytes', url: 'menabytes.com', category: 'Tech News' },
            { name: 'Magnitt', url: 'magnitt.com', category: 'Tech News' }
        ]
    },
    africa: {
        general: [
            { name: 'Business Day', url: 'businessday.ng', category: 'General News' },
            { name: 'Daily Nation', url: 'nation.co.ke', category: 'General News' },
            { name: 'The East African', url: 'theeastafrican.co.ke', category: 'General News' }
        ],
        business: [
            { name: 'African Business', url: 'africanbusinessmagazine.com', category: 'Business News' },
            { name: 'Ventures Africa', url: 'venturesafrica.com', category: 'Business News' }
        ],
        tech: [
            { name: 'TechCabal', url: 'techcabal.com', category: 'Tech News' },
            { name: 'Disrupt Africa', url: 'disrupt-africa.com', category: 'Tech News' },
            { name: 'WeeTracker', url: 'weetracker.com', category: 'Tech News' }
        ]
    }
};

function updateNewsSources() {
    const region = $('#newsRegion').val();
    const container = $('#newsSourcesContainer');
    const grid = $('#newsSourcesGrid');
    
    if (!region) {
        container.hide();
        return;
    }
    
    const sources = newsSources[region];
    if (!sources) {
        container.hide();
        return;
    }
    
    grid.empty();
    
    // Add General News sources
    if (sources.general && sources.general.length > 0) {
        grid.append('<div class="col-12"><h6 class="text-muted mb-2">General News</h6></div>');
        sources.general.forEach(source => {
            const card = `
                <div class="col-md-4 mb-2">
                    <div class="card news-source-card h-100" data-news-source="${source.name}">
                        <div class="card-body text-center p-2">
                            <i class="fas fa-newspaper text-primary mb-1"></i>
                            <h6 class="card-title mb-1">${source.name}</h6>
                            <small class="text-muted">${source.category}</small>
                        </div>
                    </div>
                </div>
            `;
            grid.append(card);
        });
    }
    
    // Add Business News sources
    if (sources.business && sources.business.length > 0) {
        grid.append('<div class="col-12"><h6 class="text-muted mb-2 mt-3">Business News</h6></div>');
        sources.business.forEach(source => {
            const card = `
                <div class="col-md-4 mb-2">
                    <div class="card news-source-card h-100" data-news-source="${source.name}">
                        <div class="card-body text-center p-2">
                            <i class="fas fa-chart-line text-primary mb-1"></i>
                            <h6 class="card-title mb-1">${source.name}</h6>
                            <small class="text-muted">${source.category}</small>
                        </div>
                    </div>
                </div>
            `;
            grid.append(card);
        });
    }
    
    // Add Tech News sources
    if (sources.tech && sources.tech.length > 0) {
        grid.append('<div class="col-12"><h6 class="text-muted mb-2 mt-3">Tech News</h6></div>');
        sources.tech.forEach(source => {
            const card = `
                <div class="col-md-4 mb-2">
                    <div class="card news-source-card h-100" data-news-source="${source.name}">
                        <div class="card-body text-center p-2">
                            <i class="fas fa-microchip text-primary mb-1"></i>
                            <h6 class="card-title mb-1">${source.name}</h6>
                            <small class="text-muted">${source.category}</small>
                        </div>
                    </div>
                </div>
            `;
            grid.append(card);
        });
    }
    
    container.show();
}

function nextStep() {
    if (currentStep === 3 && selectedSourceType === 'news') {
        // If news is selected, go to step 3.5
        currentStep = 3.5;
        showStep(3.5);
        updateProgress();
    } else if (currentStep < 4) {
        currentStep++;
        showStep(currentStep);
        updateProgress();
    }
}

function prevStep() {
    if (currentStep === 3.5) {
        // Go back to step 3 from step 3.5
        currentStep = 3;
        showStep(3);
        updateProgress();
    } else if (currentStep > 1) {
        currentStep--;
        showStep(currentStep);
        updateProgress();
    }
}

function showStep(step) {
    $('.step-content').hide();
    if (step === 3.5) {
        $('#step3_5').show();
    } else {
        $(`#step${step}`).show();
    }
}

function updateProgress() {
    const totalSteps = selectedSourceType === 'news' ? 4.5 : 4;
    const progress = (currentStep / totalSteps) * 100;
    $('#stepProgress').css('width', progress + '%');
}

function generateContent() {
    if (!selectedDirection || !selectedContentType || !selectedSourceType || !selectedTone) {
        alert('Please complete all steps before generating content.');
        return;
    }
    
    // Additional validation for news source
    if (selectedSourceType === 'news' && !selectedNewsSource) {
        alert('Please select a news source before generating content.');
        return;
    }

    // Show loading state
    $('#generateBtn').prop('disabled', true).html('<i class="fas fa-spinner fa-spin me-1"></i> Generating...');
    
    // Mock content generation for now
    setTimeout(() => {
        const mockContent = generateMockContent();
        displayContent(mockContent);
        $('#generateBtn').prop('disabled', false).html('<i class="fas fa-magic me-1"></i> Generate Content');
    }, 2000);
}

function generateMockContent() {
    let sourceInfo = '';
    if (selectedSourceType === 'news' && selectedNewsSource) {
        sourceInfo = `\n\nSource: ${selectedNewsSource}`;
    }
    
    // Get direction-specific content based on content categories document
    const directionContent = getDirectionSpecificContent();
    
    // Generate platform-specific content following exact specifications
    const templates = {
        'linkedin': generateLinkedInPost(directionContent, sourceInfo),
        'facebook': generateFacebookPost(directionContent, sourceInfo),
        'instagram': generateInstagramPost(directionContent, sourceInfo),
        'twitter': generateTwitterPost(directionContent, sourceInfo),
        'youtube_shorts': generateYouTubeShortsScript(directionContent, sourceInfo),
        'blog': generateBlogArticle(directionContent, sourceInfo)
    };
    
    return templates[selectedContentType] || 'Generated content will appear here.';
}

function getDirectionSpecificContent() {
    const directionContent = {
        'business_finance': {
            keywords: ['market analysis', 'investment insights', 'corporate trends', 'financial growth', 'business strategy'],
            hashtags: {
                linkedin: ['#BusinessGrowth', '#InvestmentInsights'],
                facebook: ['#BusinessTips', '#Finance', '#Investment', '#Growth', '#Success'],
                instagram: ['#BusinessGrowth', '#Investment', '#Finance', '#Success', '#Entrepreneur', '#Wealth', '#Money', '#Strategy', '#Innovation', '#Leadership'],
                twitter: ['#Business', '#Finance']
            },
            tone: 'professional, authoritative, insightful',
            focus: 'market analysis, investment insights, corporate trends'
        },
        'technology': {
            keywords: ['tech innovation', 'digital transformation', 'industry disruption', 'AI advancement', 'software development'],
            hashtags: {
                linkedin: ['#TechInnovation', '#DigitalTransformation'],
                facebook: ['#TechNews', '#Innovation', '#Digital', '#Technology', '#Future'],
                instagram: ['#TechInnovation', '#DigitalTransformation', '#AI', '#Innovation', '#Technology', '#Future', '#Digital', '#Software', '#Development', '#Disruption'],
                twitter: ['#Tech', '#Innovation']
            },
            tone: 'forward-thinking, innovative, technical',
            focus: 'tech innovation, digital transformation, industry disruption'
        },
        'health_wellness': {
            keywords: ['wellness insights', 'health trends', 'fitness motivation', 'mental health', 'nutrition tips'],
            hashtags: {
                linkedin: ['#HealthInsights', '#WellnessTrends'],
                facebook: ['#HealthTips', '#Wellness', '#Fitness', '#Health', '#Motivation'],
                instagram: ['#HealthTips', '#Wellness', '#Fitness', '#Health', '#Motivation', '#Lifestyle', '#Nutrition', '#MentalHealth', '#SelfCare', '#Wellbeing'],
                twitter: ['#Health', '#Wellness']
            },
            tone: 'supportive, informative, encouraging',
            focus: 'professional health insights, industry trends, research'
        },
        'education': {
            keywords: ['learning methodologies', 'skill development', 'academic insights', 'educational innovation', 'knowledge sharing'],
            hashtags: {
                linkedin: ['#LearningInnovation', '#SkillDevelopment'],
                facebook: ['#Education', '#Learning', '#Skills', '#Knowledge', '#Growth'],
                instagram: ['#Education', '#Learning', '#Skills', '#Knowledge', '#Growth', '#Innovation', '#Development', '#Academic', '#Study', '#Success'],
                twitter: ['#Education', '#Learning']
            },
            tone: 'educational, inspiring, informative',
            focus: 'learning methodologies, skill development, academic insights'
        },
        'entertainment': {
            keywords: ['industry analysis', 'behind-the-scenes insights', 'trending content', 'media innovation', 'creative expression'],
            hashtags: {
                linkedin: ['#EntertainmentIndustry', '#MediaInsights'],
                facebook: ['#Entertainment', '#Movies', '#Music', '#Trending', '#Fun'],
                instagram: ['#Entertainment', '#Movies', '#Music', '#Trending', '#Fun', '#Creative', '#Media', '#Culture', '#Art', '#Expression'],
                twitter: ['#Entertainment', '#Trending']
            },
            tone: 'engaging, creative, trend-aware',
            focus: 'industry analysis, behind-the-scenes insights, trends'
        },
        'travel_tourism': {
            keywords: ['destination insights', 'travel trends', 'tourism innovation', 'cultural experiences', 'hospitality insights'],
            hashtags: {
                linkedin: ['#TravelIndustry', '#TourismInsights'],
                facebook: ['#Travel', '#Adventure', '#Destinations', '#Explore', '#Journey'],
                instagram: ['#Travel', '#Adventure', '#Destinations', '#Explore', '#Journey', '#Wanderlust', '#Vacation', '#Culture', '#Experience', '#Discovery'],
                twitter: ['#Travel', '#Tourism']
            },
            tone: 'inspiring, adventurous, informative',
            focus: 'business travel, industry insights, market trends'
        }
    };
    
    return directionContent[selectedDirection] || directionContent['business_finance'];
}

function generateLinkedInPost(directionContent, sourceInfo) {
    // LinkedIn: 1,300 chars max, Professional tone, Hook + Value + CTA, 1-2 hashtags
    const source = selectedNewsSource || 'reliable sources';
    const keywords = directionContent.keywords;
    const hashtags = directionContent.hashtags.linkedin.join(' ');
    
    return `ðŸš€ **BREAKING: ${keywords[0].toUpperCase()}**\n\nAccording to recent reports from ${source}, we're witnessing unprecedented ${keywords[1]} in our industry. This isn't just another trendâ€”it's a fundamental shift that will reshape how we approach ${keywords[2]}.\n\n**Key Insights:**\nâ€¢ ${keywords[3]} is accelerating faster than predicted\nâ€¢ Companies embracing ${keywords[4]} are seeing 3x better results\nâ€¢ Early adopters are gaining significant competitive advantages\n\n**What This Means for You:**\nWhether you're a seasoned professional or just starting out, understanding these developments is crucial for career growth and business success.\n\n**The Question:**\nHow are you preparing for these changes in your field? Share your thoughts belowâ€”I'd love to hear your perspective on this evolving landscape.\n\n${hashtags}${sourceInfo}`;
}

function generateFacebookPost(directionContent, sourceInfo) {
    // Facebook: 40-80 words optimal, Conversational tone, Story + Connection + Engagement, 3-5 hashtags
    const source = selectedNewsSource || 'reliable sources';
    const keywords = directionContent.keywords;
    const hashtags = directionContent.hashtags.facebook.join(' ');
    
    return `Hey friends! ðŸ‘‹\n\nI just came across some really interesting news from ${source} that I had to share with you all.\n\nApparently, there's been a huge breakthrough in ${keywords[0]} that's going to change everything we know about ${keywords[1]}. I was reading about it this morning and honestly, it blew my mind! ðŸ¤¯\n\nWhat do you think about these new developments? Are you excited about the possibilities, or do you have concerns?\n\nDrop a comment below and let's chat about it! I'd love to hear your thoughts.\n\n${hashtags}${sourceInfo}`;
}

function generateInstagramPost(directionContent, sourceInfo) {
    // Instagram: 2,200 chars max, Visual/Inspirational tone, Hook + Story + Hashtags, 5-10 hashtags
    const source = selectedNewsSource || 'reliable sources';
    const keywords = directionContent.keywords;
    const hashtags = directionContent.hashtags.instagram.join(' ');
    
    return `âœ¨ **INSPIRATION ALERT** âœ¨\n\nToday's dose of motivation comes from some incredible developments in ${keywords[0]} that I discovered through ${source}.\n\nðŸŒŸ **The Story:**\nWhen I first read about these breakthroughs in ${keywords[1]}, I couldn't help but feel inspired by the endless possibilities that lie ahead. It's amazing how ${keywords[2]} continues to evolve and push boundaries.\n\nðŸ’­ **The Takeaway:**\nThis reminds us that innovation is everywhereâ€”we just need to keep our eyes open and our minds ready to embrace new ideas.\n\nðŸ”¥ **The Question:**\nWhat's inspiring you today? What recent developments have caught your attention and sparked your creativity?\n\nShare your thoughts below! Let's inspire each other. ðŸ’«\n\n${hashtags}${sourceInfo}`;
}

function generateTwitterPost(directionContent, sourceInfo) {
    // Twitter: 280 chars max, Concise/trending tone, Hook + Value + Hashtag, 1-2 hashtags
    const source = selectedNewsSource || 'reliable sources';
    const keywords = directionContent.keywords;
    const hashtags = directionContent.hashtags.twitter.join(' ');
    
    return `ðŸš¨ BREAKING: Major ${keywords[0]} developments reported by ${source}!\n\nThis changes everything in ${keywords[1]}. Game-changer for the industry.\n\nThoughts? ${hashtags}${sourceInfo}`;
}

function generateYouTubeShortsScript(directionContent, sourceInfo) {
    // YouTube Shorts: 30-45 seconds, Engaging/educational tone, Hook + Content + CTA
    const source = selectedNewsSource || 'reliable sources';
    const keywords = directionContent.keywords;
    
    return `[HOOK: 0-3 seconds]\n"Hey there! You won't BELIEVE what just happened in ${keywords[0]}!"\n\n[CONTENT: 3-40 seconds]\nAccording to ${source}, we're seeing revolutionary changes in ${keywords[1]} that will impact everyone. Here's what you need to know:\n\nâ€¢ ${keywords[2]} is evolving faster than ever\nâ€¢ Companies are adapting to new ${keywords[3]} strategies\nâ€¢ The future of ${keywords[4]} looks incredibly promising\n\n[CALL TO ACTION: 40-45 seconds]\nDon't forget to like, subscribe, and share your thoughts in the comments below! What do you think about these developments?${sourceInfo}`;
}

function generateBlogArticle(directionContent, sourceInfo) {
    // Blog: 1,500-2,500 words, Informative/authoritative tone, SEO-optimized structure
    const source = selectedNewsSource || 'reliable sources';
    const keywords = directionContent.keywords;
    
    return `# The Future of ${directionContent.focus.split(',')[0].toUpperCase()}: A Comprehensive Analysis\n\n## Introduction\nIn today's rapidly evolving landscape, understanding the key trends and developments in ${keywords[0]} is crucial for success. Recent reports from ${source} highlight significant developments that are reshaping our industry.\n\n## Current State of ${keywords[1].split(' ')[0]}\nThe landscape of ${keywords[1]} has undergone remarkable transformations in recent years. According to industry experts and recent data from ${source}, we're witnessing unprecedented changes that demand our attention.\n\n## Key Developments and Trends\n\n### 1. ${keywords[2].split(' ')[0]} Evolution\nRecent breakthroughs in ${keywords[2]} have opened new possibilities for professionals and businesses alike. These developments represent a fundamental shift in how we approach industry challenges.\n\n### 2. Impact on ${keywords[3].split(' ')[0]}\nThe implications of these changes extend far beyond immediate applications. Companies that embrace ${keywords[3]} are positioning themselves for long-term success in an increasingly competitive market.\n\n### 3. Future Outlook for ${keywords[4].split(' ')[0]}\nLooking ahead, the trajectory of ${keywords[4]} suggests continued innovation and growth. Early adopters stand to gain significant advantages in this evolving landscape.\n\n## What This Means for Professionals\n\n### For Industry Leaders\nUnderstanding these developments is essential for strategic decision-making and maintaining competitive advantages.\n\n### For Emerging Professionals\nThese changes present unique opportunities for career growth and skill development in high-demand areas.\n\n### For Businesses\nAdapting to these trends requires proactive planning and investment in relevant technologies and methodologies.\n\n## Actionable Insights\n\n1. **Stay Informed**: Regularly monitor developments in ${keywords[0]} through reliable sources like ${source}\n2. **Embrace Change**: Be open to new approaches and methodologies in your field\n3. **Invest in Learning**: Continuously develop skills related to emerging trends\n4. **Network Actively**: Connect with professionals who are leading innovation in these areas\n\n## Conclusion\nAs we navigate this dynamic landscape, staying informed and adaptable is more important than ever. The developments in ${keywords[0]} represent both challenges and opportunities for those willing to embrace change and innovation.\n\nBy understanding these trends and taking proactive steps to adapt, professionals and businesses can position themselves for success in an increasingly competitive and innovative environment.${sourceInfo}`;
}

function displayContent(content) {
    generatedContent = content;
    
    // Add character count and validation based on content categories
    const charCount = content.length;
    const platformLimits = {
        'linkedin': 1300,
        'facebook': 63206,
        'instagram': 2200,
        'twitter': 280,
        'youtube_shorts': null, // No character limit for scripts
        'blog': null // No character limit for blog articles
    };
    
    const limit = platformLimits[selectedContentType];
    let validationMessage = '';
    let validationClass = '';
    
    if (limit) {
        if (charCount > limit) {
            validationMessage = `âš ï¸ Content exceeds ${selectedContentType} limit (${charCount}/${limit} characters)`;
            validationClass = 'text-danger';
        } else if (charCount > limit * 0.9) {
            validationMessage = `âš ï¸ Content approaching ${selectedContentType} limit (${charCount}/${limit} characters)`;
            validationClass = 'text-warning';
        } else {
            validationMessage = `âœ… Content within ${selectedContentType} limits (${charCount}/${limit} characters)`;
            validationClass = 'text-success';
        }
    } else {
        validationMessage = `ðŸ“ Content length: ${charCount} characters`;
        validationClass = 'text-info';
    }
    
    const displayContent = `
        <div class="mb-3">
            <div class="d-flex justify-content-between align-items-center mb-2">
                <small class="${validationClass}">${validationMessage}</small>
                <small class="text-muted">${getPlatformSpecs()}</small>
            </div>
            <pre class="mb-0">${content}</pre>
        </div>
    `;
    
    $('#contentPreview').html(displayContent);
    
    // Store original content for translation
    $('#contentPreview').data('original-content', content);
    
    // Show content actions and translation controls
    $('#contentActions').show();
    showTranslationControls();
}

function getPlatformSpecs() {
    const specs = {
        'linkedin': 'LinkedIn: 1,300 chars max, Professional tone, 1-2 hashtags',
        'facebook': 'Facebook: 63,206 chars max, Conversational tone, 3-5 hashtags',
        'instagram': 'Instagram: 2,200 chars max, Visual tone, 5-10 hashtags',
        'twitter': 'Twitter: 280 chars max, Concise tone, 1-2 hashtags',
        'youtube_shorts': 'YouTube Shorts: 30-45 seconds, Engaging tone',
        'blog': 'Blog: 1,500-2,500 words, Informative tone, SEO-optimized'
    };
    
    return specs[selectedContentType] || '';
}

function showTranslationControls() {
    $('#translationControls').show();
    // Set initial state to English
    currentContentLanguage = 'en';
    updateTranslationButtons();
}

function translateContent(targetLang) {
    const originalContent = $('#contentPreview').data('original-content');
    const currentLang = currentContentLanguage || 'en';
    
    if (targetLang === currentLang) {
        return; // Already in the target language
    }
    
    // Show loading state
    const button = targetLang === 'en' ? $('#translateEn') : $('#translateZh');
    const originalText = button.html();
    button.prop('disabled', true).html('<i class="fas fa-spinner fa-spin me-1"></i> Translating...');
    
    // Call translation API
    fetch('/api/translate', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({
            content: originalContent,
            target_lang: targetLang,
            source_lang: currentLang
        })
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            // Update content display
            $('#contentPreview').html(`<pre class="mb-0">${data.translated_content}</pre>`);
            currentContentLanguage = targetLang;
            updateTranslationButtons();
            
            // Update generated content for copy/download
            generatedContent = data.translated_content;
        } else {
            // Fallback to mock translation for demo
            const mockTranslation = getMockTranslation(originalContent, targetLang);
            $('#contentPreview').html(`<pre class="mb-0">${mockTranslation}</pre>`);
            currentContentLanguage = targetLang;
            updateTranslationButtons();
            generatedContent = mockTranslation;
        }
    })
    .catch(error => {
        console.error('Translation error:', error);
        // Fallback to mock translation
        const mockTranslation = getMockTranslation(originalContent, targetLang);
        $('#contentPreview').html(`<pre class="mb-0">${mockTranslation}</pre>`);
        currentContentLanguage = targetLang;
        updateTranslationButtons();
        generatedContent = mockTranslation;
    })
    .finally(() => {
        button.prop('disabled', false).html(originalText);
    });
}

function getMockTranslation(content, targetLang) {
    if (targetLang === 'zh') {
        // Enhanced Chinese translation for new content structure
        return content
            // LinkedIn translations
            .replace(/ðŸš€ \*\*BREAKING: /g, 'ðŸš€ **çªå‘ï¼š')
            .replace(/According to recent reports from /g, 'æ ¹æ®æ¥è‡ª')
            .replace(/we're witnessing unprecedented /g, 'æˆ‘ä»¬æ­£åœ¨è§è¯å‰æ‰€æœªæœ‰çš„')
            .replace(/This isn't just another trendâ€”it's a fundamental shift/g, 'è¿™ä¸ä»…ä»…æ˜¯å¦ä¸€ä¸ªè¶‹åŠ¿â€”â€”è¿™æ˜¯ä¸€ä¸ªæ ¹æœ¬æ€§çš„è½¬å˜')
            .replace(/Key Insights:/g, 'å…³é”®è§è§£ï¼š')
            .replace(/is accelerating faster than predicted/g, 'æ¯”é¢„æœŸåŠ é€Ÿå¾—æ›´å¿«')
            .replace(/Companies embracing /g, 'é‡‡ç”¨')
            .replace(/are seeing 3x better results/g, 'çš„å…¬å¸çœ‹åˆ°äº†3å€æ›´å¥½çš„ç»“æžœ')
            .replace(/Early adopters are gaining significant competitive advantages/g, 'æ—©æœŸé‡‡ç”¨è€…æ­£åœ¨èŽ·å¾—æ˜¾è‘—çš„ç«žäº‰ä¼˜åŠ¿')
            .replace(/What This Means for You:/g, 'è¿™å¯¹æ‚¨æ„å‘³ç€ä»€ä¹ˆï¼š')
            .replace(/Whether you're a seasoned professional or just starting out/g, 'æ— è®ºæ‚¨æ˜¯ç»éªŒä¸°å¯Œçš„ä¸“ä¸šäººå£«è¿˜æ˜¯åˆšåˆšèµ·æ­¥')
            .replace(/understanding these developments is crucial for career growth/g, 'äº†è§£è¿™äº›å‘å±•å¯¹èŒä¸šå‘å±•è‡³å…³é‡è¦')
            .replace(/The Question:/g, 'é—®é¢˜ï¼š')
            .replace(/How are you preparing for these changes in your field?/g, 'æ‚¨å¦‚ä½•ä¸ºæ‰€åœ¨é¢†åŸŸçš„è¿™äº›å˜åŒ–åšå‡†å¤‡ï¼Ÿ')
            .replace(/Share your thoughts belowâ€”I'd love to hear your perspective/g, 'åœ¨ä¸‹é¢åˆ†äº«æ‚¨çš„æƒ³æ³•â€”â€”æˆ‘å¾ˆæƒ³å¬å¬æ‚¨çš„è§‚ç‚¹')
            
            // Facebook translations
            .replace(/Hey friends! ðŸ‘‹/g, 'æœ‹å‹ä»¬å¥½ï¼ðŸ‘‹')
            .replace(/I just came across some really interesting news/g, 'æˆ‘åˆšåˆšçœ‹åˆ°ä¸€äº›éžå¸¸æœ‰è¶£çš„æ–°é—»')
            .replace(/that I had to share with you all/g, 'å¿…é¡»ä¸Žå¤§å®¶åˆ†äº«')
            .replace(/Apparently, there's been a huge breakthrough in /g, 'æ˜¾ç„¶ï¼Œåœ¨')
            .replace(/that's going to change everything we know about /g, 'æ–¹é¢æœ‰äº†é‡å¤§çªç ´ï¼Œè¿™å°†æ”¹å˜æˆ‘ä»¬å¯¹')
            .replace(/I was reading about it this morning and honestly, it blew my mind! ðŸ¤¯/g, 'çš„ä¸€åˆ‡è®¤çŸ¥ã€‚æˆ‘ä»Šæ—©è¯»åˆ°è¿™ä¸ªæ¶ˆæ¯ï¼Œè¯´å®žè¯ï¼Œè®©æˆ‘éœ‡æƒŠäº†ï¼ðŸ¤¯')
            .replace(/What do you think about these new developments?/g, 'æ‚¨å¯¹è¿™äº›æ–°å‘å±•æœ‰ä»€ä¹ˆçœ‹æ³•ï¼Ÿ')
            .replace(/Are you excited about the possibilities, or do you have concerns?/g, 'æ‚¨å¯¹å¯èƒ½æ€§æ„Ÿåˆ°å…´å¥‹ï¼Œè¿˜æ˜¯æœ‰æ‹…å¿§ï¼Ÿ')
            .replace(/Drop a comment below and let's chat about it!/g, 'åœ¨ä¸‹é¢ç•™è¨€ï¼Œè®©æˆ‘ä»¬èŠèŠå§ï¼')
            .replace(/I'd love to hear your thoughts/g, 'æˆ‘å¾ˆæƒ³å¬å¬æ‚¨çš„æƒ³æ³•')
            
            // Instagram translations
            .replace(/âœ¨ \*\*INSPIRATION ALERT\*\* âœ¨/g, 'âœ¨ **çµæ„Ÿæé†’** âœ¨')
            .replace(/Today's dose of motivation comes from/g, 'ä»Šå¤©çš„åŠ¨åŠ›æ¥è‡ªäºŽ')
            .replace(/incredible developments in /g, 'ä»¤äººéš¾ä»¥ç½®ä¿¡çš„å‘å±•')
            .replace(/that I discovered through /g, 'æˆ‘é€šè¿‡')
            .replace(/ðŸŒŸ \*\*The Story:\*\*/g, 'ðŸŒŸ **æ•…äº‹ï¼š**')
            .replace(/When I first read about these breakthroughs in /g, 'å½“æˆ‘ç¬¬ä¸€æ¬¡è¯»åˆ°è¿™äº›çªç ´æ—¶')
            .replace(/I couldn't help but feel inspired by the endless possibilities/g, 'æˆ‘ä¸ç¦è¢«æ— é™çš„å¯èƒ½æ€§æ‰€æ¿€åŠ±')
            .replace(/It's amazing how /g, 'ä»¤äººæƒŠè®¶çš„æ˜¯')
            .replace(/continues to evolve and push boundaries/g, 'å¦‚ä½•ç»§ç»­å‘å±•å¹¶çªç ´ç•Œé™')
            .replace(/ðŸ’­ \*\*The Takeaway:\*\*/g, 'ðŸ’­ **è¦ç‚¹ï¼š**')
            .replace(/This reminds us that innovation is everywhere/g, 'è¿™æé†’æˆ‘ä»¬åˆ›æ–°æ— å¤„ä¸åœ¨')
            .replace(/we just need to keep our eyes open and our minds ready/g, 'æˆ‘ä»¬åªéœ€è¦ä¿æŒçœ¼ç›å¼€æ”¾ï¼Œæ€ç»´å‡†å¤‡å°±ç»ª')
            .replace(/ðŸ”¥ \*\*The Question:\*\*/g, 'ðŸ”¥ **é—®é¢˜ï¼š**')
            .replace(/What's inspiring you today?/g, 'ä»Šå¤©ä»€ä¹ˆæ¿€åŠ±ç€æ‚¨ï¼Ÿ')
            .replace(/What recent developments have caught your attention/g, 'æœ€è¿‘å“ªäº›å‘å±•å¼•èµ·äº†æ‚¨çš„æ³¨æ„')
            .replace(/and sparked your creativity?/g, 'å¹¶æ¿€å‘äº†æ‚¨çš„åˆ›é€ åŠ›ï¼Ÿ')
            .replace(/Share your thoughts below! Let's inspire each other. ðŸ’«/g, 'åœ¨ä¸‹é¢åˆ†äº«æ‚¨çš„æƒ³æ³•ï¼è®©æˆ‘ä»¬äº’ç›¸æ¿€åŠ±ã€‚ðŸ’«')
            
            // Twitter translations
            .replace(/ðŸš¨ BREAKING: Major /g, 'ðŸš¨ çªå‘ï¼šé‡å¤§')
            .replace(/developments reported by /g, 'å‘å±•ç”±')
            .replace(/This changes everything in /g, 'è¿™æ”¹å˜äº†ä¸€åˆ‡')
            .replace(/Game-changer for the industry/g, 'è¡Œä¸šçš„æ¸¸æˆè§„åˆ™æ”¹å˜è€…')
            .replace(/Thoughts?/g, 'æƒ³æ³•ï¼Ÿ')
            
            // YouTube translations
            .replace(/Hey there! You won't BELIEVE what just happened in /g, 'å¤§å®¶å¥½ï¼æ‚¨ä¸ä¼šç›¸ä¿¡åˆšåˆšåœ¨')
            .replace(/According to /g, 'æ ¹æ®')
            .replace(/we're seeing revolutionary changes in /g, 'æˆ‘ä»¬æ­£åœ¨çœ‹åˆ°é©å‘½æ€§çš„å˜åŒ–')
            .replace(/that will impact everyone/g, 'è¿™å°†å½±å“æ¯ä¸ªäºº')
            .replace(/Here's what you need to know:/g, 'ä»¥ä¸‹æ˜¯æ‚¨éœ€è¦äº†è§£çš„ï¼š')
            .replace(/is evolving faster than ever/g, 'æ¯”ä»¥å¾€ä»»ä½•æ—¶å€™éƒ½å‘å±•å¾—æ›´å¿«')
            .replace(/Companies are adapting to new /g, 'å…¬å¸æ­£åœ¨é€‚åº”æ–°çš„')
            .replace(/strategies/g, 'ç­–ç•¥')
            .replace(/The future of /g, 'çš„æœªæ¥')
            .replace(/looks incredibly promising/g, 'çœ‹èµ·æ¥éžå¸¸æœ‰å¸Œæœ›')
            .replace(/Don't forget to like, subscribe, and share your thoughts/g, 'åˆ«å¿˜äº†ç‚¹èµžã€è®¢é˜…å¹¶åˆ†äº«æ‚¨çš„æƒ³æ³•')
            .replace(/What do you think about these developments?/g, 'æ‚¨å¯¹è¿™äº›å‘å±•æœ‰ä»€ä¹ˆçœ‹æ³•ï¼Ÿ')
            
            // Blog translations
            .replace(/The Future of /g, 'çš„æœªæ¥')
            .replace(/A Comprehensive Analysis/g, 'ç»¼åˆåˆ†æž')
            .replace(/In today's rapidly evolving landscape/g, 'åœ¨å½“ä»Šå¿«é€Ÿå‘å±•çš„çŽ¯å¢ƒä¸­')
            .replace(/understanding the key trends and developments in /g, 'äº†è§£å…³é”®è¶‹åŠ¿å’Œå‘å±•')
            .replace(/is crucial for success/g, 'å¯¹æˆåŠŸè‡³å…³é‡è¦')
            .replace(/Recent reports from /g, 'æ¥è‡ª')
            .replace(/highlight significant developments/g, 'çš„æœ€æ–°æŠ¥å‘Šçªå‡ºäº†é‡è¦å‘å±•')
            .replace(/that are reshaping our industry/g, 'æ­£åœ¨é‡å¡‘æˆ‘ä»¬çš„è¡Œä¸š')
            .replace(/The landscape of /g, 'çš„æ ¼å±€')
            .replace(/has undergone remarkable transformations/g, 'ç»åŽ†äº†æ˜¾è‘—çš„è½¬å˜')
            .replace(/According to industry experts and recent data/g, 'æ ¹æ®è¡Œä¸šä¸“å®¶å’Œæœ€æ–°æ•°æ®')
            .replace(/we're witnessing unprecedented changes/g, 'æˆ‘ä»¬æ­£åœ¨è§è¯å‰æ‰€æœªæœ‰çš„å˜åŒ–')
            .replace(/that demand our attention/g, 'éœ€è¦æˆ‘ä»¬çš„å…³æ³¨')
            .replace(/Key Developments and Trends/g, 'å…³é”®å‘å±•å’Œè¶‹åŠ¿')
            .replace(/Recent breakthroughs in /g, 'æœ€è¿‘çš„çªç ´')
            .replace(/have opened new possibilities/g, 'å¼€è¾Ÿäº†æ–°çš„å¯èƒ½æ€§')
            .replace(/These developments represent a fundamental shift/g, 'è¿™äº›å‘å±•ä»£è¡¨äº†ä¸€ä¸ªæ ¹æœ¬æ€§çš„è½¬å˜')
            .replace(/in how we approach industry challenges/g, 'åœ¨æˆ‘ä»¬åº”å¯¹è¡Œä¸šæŒ‘æˆ˜çš„æ–¹å¼ä¸Š')
            .replace(/The implications of these changes extend far beyond/g, 'è¿™äº›å˜åŒ–çš„å½±å“è¿œè¿œè¶…å‡ºäº†')
            .replace(/Companies that embrace /g, 'é‡‡ç”¨')
            .replace(/are positioning themselves for long-term success/g, 'çš„å…¬å¸æ­£åœ¨ä¸ºé•¿æœŸæˆåŠŸå®šä½')
            .replace(/in an increasingly competitive market/g, 'åœ¨æ—¥ç›Šç«žäº‰çš„å¸‚åœºä¸­')
            .replace(/Looking ahead, the trajectory of /g, 'å±•æœ›æœªæ¥ï¼Œ')
            .replace(/suggests continued innovation and growth/g, 'çš„è½¨è¿¹è¡¨æ˜ŽæŒç»­çš„åˆ›æ–°å’Œå¢žé•¿')
            .replace(/Early adopters stand to gain significant advantages/g, 'æ—©æœŸé‡‡ç”¨è€…å°†èŽ·å¾—æ˜¾è‘—ä¼˜åŠ¿')
            .replace(/in this evolving landscape/g, 'åœ¨è¿™ä¸ªä¸æ–­å‘å±•çš„çŽ¯å¢ƒä¸­')
            .replace(/What This Means for Professionals/g, 'è¿™å¯¹ä¸“ä¸šäººå£«æ„å‘³ç€ä»€ä¹ˆ')
            .replace(/For Industry Leaders/g, 'å¯¹äºŽè¡Œä¸šé¢†å¯¼è€…')
            .replace(/Understanding these developments is essential/g, 'äº†è§£è¿™äº›å‘å±•æ˜¯å¿…è¦çš„')
            .replace(/for strategic decision-making/g, 'å¯¹äºŽæˆ˜ç•¥å†³ç­–')
            .replace(/and maintaining competitive advantages/g, 'å’Œä¿æŒç«žäº‰ä¼˜åŠ¿')
            .replace(/For Emerging Professionals/g, 'å¯¹äºŽæ–°å…´ä¸“ä¸šäººå£«')
            .replace(/These changes present unique opportunities/g, 'è¿™äº›å˜åŒ–æä¾›äº†ç‹¬ç‰¹çš„æœºä¼š')
            .replace(/for career growth and skill development/g, 'å¯¹äºŽèŒä¸šå‘å±•å’ŒæŠ€èƒ½å‘å±•')
            .replace(/in high-demand areas/g, 'åœ¨é«˜éœ€æ±‚é¢†åŸŸ')
            .replace(/For Businesses/g, 'å¯¹äºŽä¼ä¸š')
            .replace(/Adapting to these trends requires/g, 'é€‚åº”è¿™äº›è¶‹åŠ¿éœ€è¦')
            .replace(/proactive planning and investment/g, 'ä¸»åŠ¨è§„åˆ’å’ŒæŠ•èµ„')
            .replace(/in relevant technologies and methodologies/g, 'åœ¨ç›¸å…³æŠ€æœ¯å’Œæ–¹æ³•ä¸Š')
            .replace(/Actionable Insights/g, 'å¯æ“ä½œçš„è§è§£')
            .replace(/Stay Informed/g, 'ä¿æŒä¿¡æ¯çµé€š')
            .replace(/Regularly monitor developments in /g, 'å®šæœŸç›‘æŽ§')
            .replace(/through reliable sources like /g, 'é€šè¿‡å¯é æ¥æºå¦‚')
            .replace(/Embrace Change/g, 'æ‹¥æŠ±å˜åŒ–')
            .replace(/Be open to new approaches and methodologies/g, 'å¯¹æ–°æ–¹æ³•å’Œæ–¹æ³•ä¿æŒå¼€æ”¾')
            .replace(/Invest in Learning/g, 'æŠ•èµ„å­¦ä¹ ')
            .replace(/Continuously develop skills related to emerging trends/g, 'æŒç»­å‘å±•ç›¸å…³æŠ€èƒ½')
            .replace(/Network Actively/g, 'ç§¯æžå»ºç«‹ç½‘ç»œ')
            .replace(/Connect with professionals who are leading innovation/g, 'ä¸Žå¼•é¢†åˆ›æ–°çš„ä¸“ä¸šäººå£«è”ç³»')
            .replace(/in these areas/g, 'åœ¨è¿™äº›é¢†åŸŸ')
            .replace(/As we navigate this dynamic landscape/g, 'å½“æˆ‘ä»¬åœ¨è¿™ä¸ªåŠ¨æ€çŽ¯å¢ƒä¸­å¯¼èˆªæ—¶')
            .replace(/staying informed and adaptable is more important than ever/g, 'ä¿æŒä¿¡æ¯çµé€šå’Œé€‚åº”èƒ½åŠ›æ¯”ä»¥å¾€ä»»ä½•æ—¶å€™éƒ½æ›´é‡è¦')
            .replace(/The developments in /g, 'çš„å‘å±•')
            .replace(/represent both challenges and opportunities/g, 'æ—¢ä»£è¡¨æŒ‘æˆ˜ä¹Ÿä»£è¡¨æœºé‡')
            .replace(/for those willing to embrace change and innovation/g, 'å¯¹äºŽé‚£äº›æ„¿æ„æ‹¥æŠ±å˜åŒ–å’Œåˆ›æ–°çš„äºº')
            .replace(/By understanding these trends and taking proactive steps/g, 'é€šè¿‡äº†è§£è¿™äº›è¶‹åŠ¿å¹¶é‡‡å–ä¸»åŠ¨æŽªæ–½')
            .replace(/professionals and businesses can position themselves for success/g, 'ä¸“ä¸šäººå£«å’Œä¼ä¸šå¯ä»¥ä¸ºæˆåŠŸå®šä½')
            .replace(/in an increasingly competitive and innovative environment/g, 'åœ¨æ—¥ç›Šç«žäº‰å’Œåˆ›æ–°çš„çŽ¯å¢ƒä¸­');
    } else {
        // Return to English (original content)
        return $('#contentPreview').data('original-content');
    }
}

function updateTranslationButtons() {
    if (currentContentLanguage === 'en') {
        $('#translateEn').addClass('active').removeClass('btn-outline-primary').addClass('btn-primary');
        $('#translateZh').removeClass('active').removeClass('btn-primary').addClass('btn-outline-warning');
        $('.content-language.en').show();
        $('.content-language.zh').hide();
    } else {
        $('#translateZh').addClass('active').removeClass('btn-outline-warning').addClass('btn-warning');
        $('#translateEn').removeClass('active').removeClass('btn-primary').addClass('btn-outline-primary');
        $('.content-language.zh').show();
        $('.content-language.en').hide();
    }
}

function saveContent() {
    // TODO: Implement save functionality
    alert('Content saved to library!');
}

function downloadContent() {
    // TODO: Implement download functionality
    alert('Content downloaded!');
}

function copyContent() {
    if (generatedContent) {
        navigator.clipboard.writeText(generatedContent).then(() => {
            alert('Content copied to clipboard!');
        });
    }
}
</script>
{% endblock %} 